<!-- templates/sudoku.html -->
{% load static %}

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1 user-scalable=no">
	<title>Sudoku</title>

	<link rel="stylesheet" href="{% static 'css/sudoku.css' %}">
	<script>
		let board = JSON.parse('{{ board|escapejs }}');
		let startTime = new Date('{{ start_time }}');
	</script>
	<script type="module">
		import { setGame } from '../../static/js/board.js';
		import { startTimer } from '../../static/js/timer.js';
		import { initializeWebSocket } from '../../static/js/sudoku.js';

		document.addEventListener("DOMContentLoaded", function() {
			const roomName = "{{ room_name }}";
			const sudokuSocket = initializeWebSocket(roomName);
			//setGame(sudokuSocket);
			startTimer();
		});
	</script>
</head>

<body>
	<h1>Sudoku</h1>
	<div id="timer">00:00:00</div>
	<input type="hidden" id="room-name" value="{{ room_name }}">
	<br>

	<!-- 9x9 board -->
	<div id="board"></div>
	<br>
	<div id="digits"></div>
</body>
</html>
